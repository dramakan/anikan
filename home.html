<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anikan - The best site to watch anime online for Free</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¬</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* --- 1. Global Styles & Deep Purple Theme --- */
        :root {
            --color-background: #100f14;
            --color-card: #1c1b22;
            --color-text: #e0e0e0;
            --color-text-muted: #a0a0a0;
            --color-primary: #9D4EDD; /* Vibrant Purple Accent */
            --color-primary-light: #c77dff;
            --border-color: #2c2c34;
            --font-family: 'Poppins', sans-serif;
            /* New Variable for Floating CTA - Using a visible red/secondary color for contrast */
            --color-secondary-cta: #E50914; 
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { background-color: var(--color-background); color: var(--color-text); font-family: var(--font-family); overflow-x: hidden; }
        a { color: var(--color-text); text-decoration: none; transition: color 0.3s ease; }
        img { max-width: 100%; display: block; }
        
        /* --- 2. Header & Navigation (Desktop/Tablet) --- */
        .main-header { position: fixed; top: 0; left: 0; width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 1.5rem 5%; z-index: 1000; background: linear-gradient(to bottom, rgba(16, 15, 20, 0.8), transparent); transition: background-color 0.3s ease; }
        .main-header.scrolled { background-color: var(--color-background); }
        .main-header .logo { font-size: 1.8rem; font-weight: 700; color: #fff; letter-spacing: 1px; flex-shrink: 0; }
        .main-header .logo span { color: var(--color-primary); }
        .main-nav { display: flex; gap: 2rem; }
        .main-nav a { font-weight: 500; position: relative; }
        .main-nav a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px; background-color: var(--color-primary); transition: width 0.3s ease; }
        .main-nav a:hover::after, .main-nav a.active::after { width: 100%; }
        .main-nav a:hover, .main-nav a.active { color: var(--color-primary-light); }
        .header-actions { display: flex; align-items: center; gap: 1.5rem; }
        .search-bar { position: relative; }
        .search-bar input { background: var(--color-card); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 0.5rem 1rem 0.5rem 2.5rem; color: var(--color-text); width: 250px; transition: all 0.3s ease; }
        .search-bar input::placeholder { color: var(--color-text-muted); }
        .search-bar input:focus { width: 300px; outline: none; border-color: var(--color-primary); box-shadow: 0 0 10px rgba(157, 78, 221, 0.5); }
        .search-bar i { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--color-text-muted); }
        .cta-button { background: var(--color-primary); color: #fff; padding: 0.6rem 1.2rem; border-radius: 20px; font-weight: 600; transition: all 0.3s ease; flex-shrink: 0; }
        .cta-button:hover { transform: scale(1.05); box-shadow: 0 0 15px rgba(157, 78, 221, 0.5); background-color: var(--color-primary-light); }
        
        .search-results { position: absolute; top: 120%; left: 0; width: 300px; background: var(--color-card); border: 1px solid var(--border-color); border-radius: 8px; max-height: 400px; overflow-y: auto; display: none; z-index: 2000; }
        .search-result-item { display: flex; gap: 10px; padding: 8px; transition: background-color 0.2s; cursor: pointer; align-items: center; }
        .search-result-item img { width: 40px; height: 55px; object-fit: cover; border-radius: 4px; flex-shrink: 0; }
        .search-result-item:hover { background: var(--color-primary); color: #fff; }
        .no-result { padding: 10px; color: var(--color-text-muted); }

        /* --- 3. Spotlight / Hero Section (Desktop/Tablet) --- */
        #spotlight { min-height: 100vh; position: relative; display: flex; align-items: center; padding: 0 5%; overflow: hidden; }
        .spotlight-background { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; }
        .spotlight-background img { width: 100%; height: 100%; object-fit: cover; transition: opacity 1s ease-in-out; }
        .spotlight-background::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(90deg, rgba(16, 15, 20, 1) 20%, rgba(16, 15, 20, 0.7) 50%, transparent 100%); }
        .spotlight-content { max-width: 50%; z-index: 2; }
        .spotlight-content .anime-title { font-size: 4rem; font-weight: 700; line-height: 1.1; color: #fff; letter-spacing: -1px; }
        .spotlight-content .anime-meta { display: flex; align-items: center; flex-wrap: wrap; gap: 1.5rem; margin: 1rem 0; }
        .spotlight-content .rating { display: flex; align-items: center; gap: 0.5rem; color: var(--color-primary-light); font-weight: 600; }
        .spotlight-content .genres { color: var(--color-text-muted); }
        .spotlight-content .description { font-size: 1rem; line-height: 1.6; margin-bottom: 2rem; max-width: 600px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .spotlight-buttons { display: flex; gap: 1rem; }
        .spotlight-buttons .btn { padding: 0.8rem 2rem; border-radius: 30px; font-size: 1rem; font-weight: 600; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 0.5rem; border: none; cursor: pointer; }
        .spotlight-buttons .btn-primary { background-color: var(--color-primary); color: #fff; }
        .spotlight-buttons .btn-secondary { background-color: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); }
        .spotlight-buttons .btn:hover { transform: translateY(-3px); }
        .carousel-controller { position: absolute; bottom: 5%; right: 5%; width: 45%; max-width: 800px; z-index: 2;}
        .carousel-track { display: flex; gap: 1rem; }
        .carousel-item { min-width: 180px; width: 180px; cursor: pointer; border-radius: 10px; overflow: hidden; border: 3px solid transparent; position: relative; transition: all 0.4s ease; }
        .carousel-item img { height: 250px; object-fit: cover; }
        .carousel-item::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); }
        .carousel-item-title { position: absolute; bottom: 10px; left: 10px; color: #fff; font-weight: 500; font-size: 0.9rem; z-index: 2; }
        .carousel-item.active { border-color: var(--color-primary); transform: scale(1.08); box-shadow: 0 0 20px rgba(157, 78, 221, 0.5); }
        
        .mobile-dots-nav {
            display: none;
            position: absolute;
            right: 2%;
            top: 50%;
            transform: translateY(-50%);
            flex-direction: column;
            gap: 10px;
            z-index: 3;
            padding: 5px;
            border-radius: 15px;
            background-color: rgba(0, 0, 0, 0.3);
        }
        .mobile-dots-nav .dot {
            width: 8px;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }
        .mobile-dots-nav .dot.active {
            background-color: var(--color-primary-light);
            transform: scale(1.5);
        }

        /* --- 4. Content Carousel Sections (Desktop/Tablet) --- */
        .content-section { padding: 3rem 5%; }
        .section-title { font-size: 1.8rem; font-weight: 600; margin-bottom: 1.5rem; display: inline-flex; align-items: center; gap: 0.75rem; }
        .section-title i { color: var(--color-primary); }
        .anime-carousel { display: flex; gap: 1.5rem; overflow-x: auto; padding-bottom: 1.5rem; scrollbar-width: none; }
        .anime-carousel::-webkit-scrollbar { display: none; }
        .anime-card { background: var(--color-card); border-radius: 10px; overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease; min-width: 200px; width: 200px; position: relative; }
        .anime-card:hover { transform: translateY(-10px); box-shadow: 0 10px 20px rgba(0,0,0,0.4), 0 0 20px rgba(157, 78, 221, 0.3); }
        .anime-card-img { width: 100%; height: 280px; object-fit: cover; }
        .anime-card-content { padding: 1rem; }
        .anime-card-title { font-size: 1rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--color-text); }
        .anime-card-meta { font-size: 0.8rem; color: var(--color-text-muted); margin-top: 0.5rem; }
        .play-icon-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 280px; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; font-size: 3rem; color: #fff; opacity: 0; transition: opacity 0.3s ease; }
        .anime-card:hover .play-icon-overlay { opacity: 1; }
        
        /* --- 5. Footer --- */
        .main-footer { background-color: var(--color-card); padding: 3rem 5%; margin-top: 2rem; border-top: 2px solid var(--color-primary); }
        .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; align-items: top; }
        .footer-about .logo { margin-bottom: 1rem; font-size: 1.8rem; font-weight: 700; color: #fff; letter-spacing: 1px; }
        .footer-about .logo span { color: var(--color-primary); }
        .footer-about p { color: var(--color-text-muted); line-height: 1.6; }
        .footer-heading { font-size: 1.2rem; font-weight: 600; margin-bottom: 1rem; color: #fff; }
        .footer-links ul { list-style: none; }
        .footer-links ul li { margin-bottom: 0.75rem; }
        .footer-links ul a:hover { color: var(--color-primary-light); padding-left: 5px; }
        .social-links { display: flex; gap: 1rem; margin-top: 1rem; }
        .social-links a { font-size: 1.5rem; transition: transform 0.3s ease, color 0.3s ease; }
        .social-links a:hover { color: var(--color-primary-light); transform: scale(1.2); }
        .footer-bottom { text-align: center; margin-top: 3rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.1); color: var(--color-text-muted); font-size: 0.9rem; }
        
        /* --- 6. Animations --- */
        .content-animate { animation: fadeInSlideUp 1s ease-out forwards; opacity: 0; }
        @keyframes fadeInSlideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* --- 7. Tablet Responsive Design --- */
        @media (max-width: 1200px) {
            .spotlight-content { max-width: 60%; }
            #spotlight { flex-direction: column; justify-content: center; text-align: center; padding-top: 120px; min-height: auto; height: auto; }
            #spotlight .spotlight-buttons { justify-content: center; }
            .carousel-controller { width: 100%; position: relative; right: auto; bottom: auto; padding: 2rem 0; overflow-x: auto; }
        }
        
        /* 2nd Change: Explicitly hide bottom nav on larger screens */
        .bottom-nav {
            display: none; 
        }

        @media (max-width: 992px) {
            .main-nav { display: none; }
            .spotlight-content .anime-title { font-size: 3rem; }
            /* This rule is kept to ensure tablets (up to 992px) also hide it in case the generic rule above is overridden */
            .bottom-nav { display: none; } 
        }
        
        /* * --------------------------------------------
        * PC VIEW MODIFICATIONS (MIN-WIDTH: 769px) 
        * --------------------------------------------
        */
        /* --- START OF CUSTOM CHANGE: PC VIEW NAVIGATION AND REMOVAL --- */
        @media (min-width: 769px) {
            /* 1. Remove the cover image carousel in PC view */
            .carousel-controller {
                display: none;
            }
            /* 2. Show the navigation dots and place them horizontally at the bottom right for PC */
            .mobile-dots-nav {
                display: flex; /* Display the dots for navigation */
                flex-direction: row; /* Horizontal layout for desktop */
                bottom: 5%; /* Position at the bottom */
                top: auto; /* Clear top positioning */
                left: auto;
                right: auto;
                transform: translateY(0);
                background-color: transparent; /* Make background transparent on PC */
                padding: 0;
            }
            .mobile-dots-nav .dot {
                /* Make dots slightly bigger for desktop clicking */
                width: 12px;
                height: 12px;
            }
        }
        /* --- END OF CUSTOM CHANGE: PC VIEW NAVIGATION AND REMOVAL --- */
        
        /* * --------------------------------------------
        * NETFLIX-STYLE MOBILE VIEW (MAX-WIDTH: 768px) 
        * --------------------------------------------
        */
        @media (max-width: 768px) {
            /* 1. Global / Reset */
            .main-header, .content-section, #spotlight, .main-footer {
                padding-left: 0;
                padding-right: 0;
            }
            .content-section {
                padding: 2rem 0 0.5rem 0; /* Reduced vertical padding */
            }
            .section-title { 
                font-size: 1.5rem; 
                padding-left: 5%; /* Add side padding for section titles */
                padding-right: 5%;
            }

            /* 2. Header & Top Bar (Simplified) */
            .main-header {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                padding: 0.75rem 5%; /* Smaller, fixed top bar */
                background-color: var(--color-background); /* Solid background for app feel */
                border-bottom: 1px solid var(--border-color);
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            }
            
            /* 1st Change: Hide the logo */
            .main-header .logo {
                display: none; 
            }
            .header-actions {
                gap: 0.5rem; /* Reduced gap */
                /* Ensure actions container takes full width to allow search to expand */
                flex-grow: 1; 
            }
            /* Hide the main 'Sign In' button on the top right */
            .cta-button {
                display: none;
            }
            .search-bar {
                order: 1; /* Move search first/center */
                flex-grow: 1; 
                margin-right: 0; /* Clear previous margin if any */
            }
             /* 1st Change: Search bar full length */
            .search-bar input {
                width: 100%; 
                max-width: none;
            }
            .search-bar input:focus {
                width: 100%;
            }
            .search-results {
                left: 0; 
                right: auto;
                width: 100%;
                top: 45px;
            }
            /* Hide the desktop navigation */
            .main-nav { display: none; }


            /* 3. Spotlight / Hero Section (Focus on Media) */
            #spotlight { 
                padding-top: 50px; /* Offset for fixed header */
                min-height: 85vh; /* Larger hero section */
                justify-content: flex-end; /* Push content to the bottom */
                padding-bottom: 2rem; 
                text-align: left; 
                align-items: flex-start;
                position: relative;
            }
            .spotlight-background img#spotlight-bg-img {
                /* NEW: Hide the wide desktop background image */
                display: none;
            }
            .spotlight-background img#spotlight-bg-img-mobile {
                /* NEW: Style for the cover image (displayed via script) */
                display: block; /* Ensure mobile one is visible */
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: opacity 1s ease-in-out;
            }
            .spotlight-background::after { 
                /* Stronger gradient to make text more readable on mobile */
                content: ''; 
                position: absolute; 
                top: 0; 
                left: 0; 
                width: 100%; 
                height: 100%; 
                background: linear-gradient(to top, rgba(16, 15, 20, 1) 15%, rgba(16, 15, 20, 0.5) 50%, transparent 100%); 
            }
            .spotlight-content { 
                max-width: 100%; 
                padding: 0 5%; /* Restore side padding for content */
            }
            .spotlight-content .anime-title { 
                font-size: 2.5rem; 
                text-shadow: 0 0 10px rgba(0,0,0,0.8); /* Add text shadow for legibility */
            }
            .spotlight-content .anime-meta {
                gap: 1rem; 
                margin: 0.5rem 0 1.5rem 0;
            }
            .spotlight-content .description { 
                display: none; /* Hide long description */
            }
            #spotlight .spotlight-buttons { 
                justify-content: flex-start; 
            }
            .spotlight-buttons .btn {
                padding: 0.75rem 1.5rem;
                font-size: 0.95rem;
                border-radius: 5px; /* Less rounded for a more modern app look */
            }

            /* 4. Content Carousels (Full Width, No Padding) */
            .anime-carousel { 
                padding: 0 0.5rem 1rem 0.5rem; /* Minimal side padding */
                gap: 0.75rem; /* Reduced gap between cards */
            }
            .anime-card { 
                min-width: 120px; /* Smaller card size */
                width: 120px; 
                border-radius: 5px;
            }
            .anime-card:hover {
                transform: none; /* Disable hover effects on mobile */
                box-shadow: none;
            }
            .anime-card-img, .play-icon-overlay { 
                height: 170px; /* Adjusted image height */
            }
            .anime-card-content {
                padding: 0.5rem; /* Smaller padding */
            }
            .anime-card-title {
                font-size: 0.85rem;
            }
            .anime-card-meta {
                font-size: 0.7rem;
            }
            
            /* 5. Mobile Only Elements */
            .carousel-controller { display: none; }
            .mobile-dots-nav { display: flex; }
            
            /* 6. Footer (Simplified and Padded) */
            .main-footer {
                padding: 1.5rem 5%; /* Smaller vertical padding */
                margin-top: 1rem; /* Smaller margin-top */
            }
            .footer-content {
                grid-template-columns: 1fr;
                gap: 1rem; /* Reduced gap */
                text-align: center;
            }
            .footer-about {
                padding-bottom: 1rem; /* Reduced padding */
                margin-bottom: 0; /* Clear margin after change to padding-bottom */
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }
            .footer-links {
                 /* Hide secondary link columns to make footer smaller */
                 display: none; 
            }
            .footer-about p {
                font-size: 0.9rem; /* Slightly smaller text */
            }
            .social-links {
                justify-content: center;
            }
            .footer-bottom { 
                margin-top: 1.5rem; /* Reduced margin */
                padding-top: 1rem; /* Reduced padding */
                font-size: 0.8rem; /* Smaller copyright text */
            }

            /* 7. Bottom Navigation Bar (App-like) */
            .bottom-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 55px; /* Standard app-bar height */
                background-color: var(--color-card); 
                border-top: 1px solid var(--border-color);
                display: flex; /* Force display on mobile */
                justify-content: space-around;
                align-items: center;
                z-index: 2000;
                box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.3);
            }
            
            .bottom-nav-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                color: var(--color-text-muted);
                font-size: 1.75rem;
                transition: color 0.3s ease;
                padding: 5px;
                flex: 1; 
            }
            .bottom-nav-item i {
                font-size: 2.5rem;
                margin-bottom: 3px;
            }
            .bottom-nav-item:hover, .bottom-nav-item.active {
                color: var(--color-primary);
            }
            
            /* 3rd Change: Reposition floating CTA button slightly above the bottom nav bar */
            #drama-request-toggle-button {
                bottom: 70px; /* Adjusted: Puts it 15px above the 55px nav bar */
                right: 15px;
                padding: 10px 15px; /* Smaller button */
                font-size: 0.9rem;
            }
            
            /* Add padding to the bottom of the main content so it's not hidden by the fixed bottom nav */
            main {
                padding-bottom: 60px; 
            }
        }
        /* Adjust for super small screens */
        @media (max-width: 480px) {
            :root { font-size: 14px; }
            .spotlight-content .anime-title { font-size: 1.8rem; }
            .anime-card { 
                min-width: 100px;
                width: 100px;
            }
            .anime-card-img, .play-icon-overlay { 
                height: 140px;
            }
            .search-results {
                width: 100%; 
            }
            .bottom-nav-item {
                font-size: 0.65rem;
            }
            .bottom-nav-item i {
                font-size: 1.1rem;
            }
        }

        /* --- POPUP: Central Fade-in styles (The Modal) --- */
        #drama-request-overlay-center {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.9); /* Enhanced transparency */
          z-index: 9998;
          display: flex;
          justify-content: center;
          align-items: center;
          opacity: 0;
          visibility: hidden;
          transition: opacity 0.4s ease-in-out, visibility 0.4s;
        }

        #drama-request-overlay-center.active {
          opacity: 1;
          visibility: visible;
        }

        /* 4th Change: Improved Popup View */
        #drama-request-content-center {
          background-color: #151419; /* Slightly darker card background for modal */
          padding: 40px; /* Increased padding */
          border-radius: 15px; /* Slightly more rounded */
          max-width: 400px; /* Reduced max width for better mobile focus */
          text-align: center;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.9); /* Stronger shadow */
          border: 1px solid var(--color-primary); /* Add subtle border */
          position: relative;
          transform: scale(0.9) translateY(20px); 
          transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.5, 1);
        }

        #drama-request-overlay-center.active #drama-request-content-center {
          transform: scale(1) translateY(0);
        }
        
        .popup-title-center {
          color: var(--color-primary); 
          font-weight: 700;
          font-size: 2rem; /* Larger title */
          margin-bottom: 10px;
          text-shadow: 0 0 10px rgba(157, 78, 221, 0.8); 
        }

        .popup-message-center {
            color: var(--color-text-muted);
            margin-bottom: 15px;
            font-size: 1rem;
        }
        
        .popup-promise {
            color: var(--color-text); 
            font-size: 1rem; /* Adjusted font size */
            font-weight: 500;
            margin-top: 15px;
            margin-bottom: 30px; /* Increased bottom margin */
            padding: 15px; /* Increased padding */
            background-color: #2b2b34; 
            border-left: 6px solid var(--color-secondary-cta); /* Thicker border */
            border-radius: 4px;
        }
        
        .popup-close-btn {
          position: absolute;
          top: 10px;
          right: 15px; /* Move slightly left */
          background: none;
          border: none;
          color: var(--color-text-muted); 
          font-size: 2rem; /* Larger close button */
          cursor: pointer;
          transition: color 0.3s, transform 0.3s;
        }

        .popup-close-btn:hover {
          color: var(--color-secondary-cta); 
          transform: rotate(180deg) scale(1.1); /* Smoother hover effect */
        }

        /* --- Bottom-Right Clickable Button (Component 2) --- */
        #drama-request-toggle-button {
            position: fixed;
            bottom: 60px;
            right: 20px;
            background-color: var(--color-secondary-cta); 
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            cursor: pointer;
            z-index: 9999;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        #drama-request-toggle-button:hover {
            background-color: #C00811; /* Darker hover effect */
            transform: translateY(-2px);
        }
    </style>
</head>
<body>

    <header class="main-header">
        <a href="index.html" class="logo">Ani<span>kan</span></a>
        <nav class="main-nav"><a href="#" class="active">Home</a><a href="categories.html">Browse</a><a href="#trending-section">Trending</a><a href="movies.html">Movies</a><a href="https://dramakan.netlify.app/">Dramakan</a><a href="https://cinekan.netlify.app/">Cinekan</a></nav>
        <div class="header-actions">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input id="searchInput" type="text" placeholder="Search...">
                <div id="searchResults" class="search-results"></div>
            </div>
            <a href="#" class="cta-button">Sign In</a>
        </div>
    </header>

    <main>
        <section id="spotlight">
            <div class="spotlight-background">
                <img id="spotlight-bg-img" src="" alt="Featured Anime Background">
                <img id="spotlight-bg-img-mobile" src="" alt="Featured Anime Cover">
            </div>
            <div class="spotlight-content">
                <h1 class="anime-title" id="spotlight-title"></h1>
                <div class="anime-meta">
                    <div class="rating"><i class="fas fa-star"></i><span id="spotlight-rating"></span></div>
                    <div class="genres" id="spotlight-genres"></div>
                </div>
                <p class="description" id="spotlight-description"></p>
                <div class="spotlight-buttons">
                    <a id="spotlight-watch-btn" href="#" class="btn btn-primary"><i class="fas fa-play"></i> Watch Now</a>
                    <button class="btn btn-secondary"><i class="fas fa-plus"></i> Add to List</button>
                </div>
            </div>
            <div class="carousel-controller"><div class="carousel-track" id="carousel-track"></div></div>
            <div class="mobile-dots-nav" id="mobile-dots-nav"></div>
        </section>

        <section class="content-section" id="trending-section"><h2 class="section-title"><i class="fas fa-fire"></i> Trending Anime</h2><div class="anime-carousel" id="trending-carousel"></div></section>
        <section class="content-section" id="latest-section"><h2 class="section-title"><i class="fas fa-clock"></i> Latest Episodes</h2><div class="anime-carousel" id="latest-carousel"></div></section>
        <section class="content-section" id="schedule-section"><h2 class="section-title"><i class="fas fa-calendar-alt"></i> New On Anikan</h2><div class="anime-carousel" id="schedule-carousel"></div></section>
        <section class="content-section" id="type-section"><h2 class="section-title"><i class="fas fa-film"></i> Movies</h2><div class="anime-carousel" id="type-carousel"></div></section>
        <section class="content-section" id="status-section"><h2 class="section-title"><i class="fas fa-calendar-alt"></i>Completed</h2><div class="anime-carousel" id="status-carousel"></div></section>
    </main>

    <nav class="bottom-nav">
        <a href="https://dramakan.netlify.app/" class="bottom-nav-item">
            <i class="fas fa-home"></i>
            <span>Dramakan</span>
        </a>
        <a href="https://cinekan.netlify.app/" class="bottom-nav-item">
            <i class="fas fa-home"></i>
            <span>Cinekan</span>
        </a>
        <a href="#trending-section" class="bottom-nav-item">
            <i class="fas fa-fire"></i>
            <span>Trending</span>
        </a>
        <a href="#" class="bottom-nav-item active">
            <i class="fas fa-home"></i>
            <span>Anikan</span>
        </a>
    </nav>
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-about">
                <a href="index.html" class="logo">Ani<span>kan</span></a>
                <p>Anikan is a free anime streaming website where you can watch your favorite anime online in high quality.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-telegram"></i></a><a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-links">
                <h3 class="footer-heading">Quick Links</h3>
                <ul><li><a href="home.html">Home</a></li><li><a href="categories.html">Browse</a></li><li><a href="#trending-section">Trending</a></li><li><a href="contact.html">Contact Us</a></li></ul>
            </div>
            <div class="footer-links">
                <h3 class="footer-heading">Legal</h3>
                <ul><li><a href="terms.html">Terms of Service</a></li><li><a href="privacy.html">Privacy Policy</a></li><li><a href="disclaimer.html">Disclaimer</a></li></ul>
            </div>
        </div>
        <div class="footer-bottom">&copy; 2025 Anikan. All rights reserved. This site does not store any files on its server.</div>
    </footer>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {

        // --- 1. DATA ---
        // MODIFICATION: Added pageUrl property to each anime object for manual linking.
        const animeData = [
            { id: 7, title: 'Sakamoto Days S2', pageUrl: 'sakamotodays.html', type: 'TV Series', rating: 8.2, episodes: 22, genres: ['Action', 'Comedy', 'Shonen', 'Crime'], description: 'Taro Sakamoto was once the greatest hitman of all time, feared by the entire criminal underworld...', coverImage: 'https://a.storyblok.com/f/178900/1080x1350/73f019de0e/sakamoto-days-part-2-key-visual.jpg/m/filters:quality(95)format(webp)', bgImage: 'https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABVX08jwBEAp_sjw5i4MM1zudIHgMxx-wQpDvWjrnp9bFyEv8OVmRTuMkZv16jbjSlwgGla6pfYK0gozYDaxaGMU3ikGIuDADAbMR.jpg?r=354', status: 'Upcoming', releaseYear: 2025, schedule: 'sat' },
           { id: 2, title: 'To Be Hero X', pageUrl: 'ToBeHeroX.html', type: 'Donghua', rating: 7.5, episodes: 12, genres: ['Action', 'Superpower', 'Fantasy', 'Comedy', 'Shonen'], description: 'The successor to the To Be Hero series, To Be Hero X is based on the popular Chinese comic To Be Hero and follows new protagonists in a world brimming with bizarre superpowers and intense, comedic action...', coverImage: 'https://m.media-amazon.com/images/M/MV5BYmZjNzBhYjYtMzY1MS00M2U1LWFjZGQtY2RmY2FiNWE5YzkwXkEyXkFqcGc@._V1_.jpg', bgImage: 'https://nerdreactor.com/wp-content/uploads/2025/04/to-be-hero-x.jpg', status: 'Upcoming', releaseYear: 2025, schedule: 'Thu' },
            { id: 1, title: 'Gachiakuta', pageUrl: 'gachiakuta.html', type: 'TV Series', rating: 8.9, episodes: 24, genres: ['Action', 'Fantasy', 'Supernatural'], description: 'In a society where the wealthy discard their trash into a deep abyss...', coverImage: 'https://m.media-amazon.com/images/M/MV5BZDU5ZmEzODYtMDU2OS00NTZiLTk4MWYtYWUyZWUzNGU2ODdjXkEyXkFqcGc@._V1_.jpg', bgImage: 'https://occ-0-8407-2218.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABbkHLc5eHK3DXACYdwLLOW0b46QvX-OUdvVJoQPCt3eITP8vFz4QpRFagAkeeHbhtsbiojutcKwODTsSSR3l6YjyuKuTD1IgiLLs.jpg?r=886', status: 'Upcoming', releaseYear: 2025, schedule: 'sun' },
           { id: 7, title: 'Tokyo Revengers', pageUrl: 'TokyoRevenger.html', type: 'TV Series', rating: 7.7, episodes: 50, genres: ['Action', 'Sci-Fi', 'Drama', 'School', 'Shonen', 'Time Travel'], description: 'Takemichi Hanagaki, a 26-year-old freeter, learns that his middle school ex-girlfriend, Hinata Tachibana, and her younger brother, Naoto, have been murdered by the ruthless Tokyo Manji Gang...', coverImage: 'https://m.media-amazon.com/images/M/MV5BNGU3YzdhMWEtMGRkMC00MzY2LThkOGEtMDFmZDE0NGQxYzFjXkEyXkFqcGc@._V1_.jpg', bgImage: 'https://img2.hulu.com/user/v3/artwork/1a195a35-e19c-4e36-b609-3b1c451f6ce4?base_image_bucket_name=image_manager&base_image=82eb61e7-9237-44c3-9c08-ce918ec4d79e&region=US&format=webp&size=952x536', status: 'Finished', releaseYear: 2025, schedule: 'sat' },
           { id: 21, title: 'Violet Evergarden', pageUrl: 'VioletEvergarden.html', type: 'TV Series', rating: 8.68, episodes: 13, genres: ['Drama', 'Fantasy', 'Slice of Life', 'Emotional'], description: 'The Great War has ended, and Violet Evergarden, a young girl raised solely for the purpose of war, is left with only words from the person she held dearest: I love you...', coverImage: 'https://m.media-amazon.com/images/M/MV5BOWUyNDFjOWUtNGM5MS00YTUzLWFhYzYtZDg5NDNjMWJiY2MyXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg', bgImage: 'https://occ-0-8407-90.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABd-jjR7deXv28-09H8CsNo0iOpcEofVSGwkLYie_TMgjZ1sq8zhSwPKy80VdOMaV1qawpoxbmbtQuDfvIb1l54BO57fnG6PKuug6.jpg?r=c90', status: 'Finished', releaseYear: 2018, schedule: 'Fri' }, 
           { id: 2, title: 'Lord of the Mysteries (LOTM)', pageUrl: 'Lotm.html', type: 'Donghua', rating: 9.2, episodes: 12, genres: ['Steampunk', 'Mystery', 'Supernatural'], description: 'After transmigrating into a Victorian-era world, Klein Moretti finds himself entangled with a secret organization...', coverImage: 'https://m.media-amazon.com/images/M/MV5BMWE1ZWYwZGUtZjRmOS00NzUzLTlkZmUtMTEwMjNhNTVmNDIwXkEyXkFqcGc@._V1_.jpg', bgImage: 'https://images.immediate.co.uk/production/volatile/sites/3/2025/06/Lord-of-Mysteries-d83c0ce.jpg', status: 'Upcoming', releaseYear: 2025, schedule: 'fri' },
            { id: 3, title: 'Demon Slayer: Infinity Castle Arc', pageUrl: 'Dicam.html', type: 'Movie', rating: 9.5, episodes: 1, genres: ['Action', 'Demons', 'Historical'], description: 'The final battle against Muzan Kibutsuji begins...', coverImage: 'https://m.media-amazon.com/images/M/MV5BOGQ3YWUzYjEtMTJiYy00ZjQ0LWI0YjktYjhiNGVhNGExYTM3XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg', bgImage: 'https://static0.cbrimages.com/wordpress/wp-content/uploads/2025/05/demon-slayer-sets-unfortunate-gen-z-record-ahead-of-infinity-castle-anime-release.jpg', status: 'Upcoming Movie', releaseYear: 2025, isMovie: true },
            { id: 4, title: 'Dandadan S2', pageUrl: 'Dandadan.html', type: 'TV Series', rating: 8.8, episodes: 12, genres: ['Action', 'Comedy', 'Sci-Fi'], description: 'A high school girl who believes in ghosts and a boy who believes in aliens get dragged into a bizarre world...', coverImage: 'https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea9c4d4e-a600-44a4-ba62-ee22643b01cf_3561x5035.jpeg', bgImage: 'https://boomzappow.com/wp-content/uploads/2024/06/Dandadan-copy.jpg', status: 'Airing', releaseYear: 2024, schedule: 'wed' },
            { id: 7, title: 'Death Note', pageUrl: 'deathnote.html', type: 'TV Series', rating: 8.9, episodes: 37, genres: ['Mystery', 'Supernatural', 'Thriller', 'Psychological', 'Crime', 'Dark Fantasy'], description: 'Light Yagami, an ace high school student, finds the Death Note, a supernatural notebook dropped by the Shinigami Ryuk...', coverImage: 'https://m.media-amazon.com/images/M/MV5BYTgyZDhmMTEtZDFhNi00MTc4LTg3NjUtYWJlNGE5Mzk2NzMxXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg', bgImage: 'https://occ-0-8407-90.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABdVyosBNChijdfQnnn-XROCxy0jFtfCtxl5_2CCTKbvC_wk4k2Cl3g0ufJ0yRmG40QALM76Gqc4150k1WaxAi3iQZSkwXNXw3_52.jpg?r=3bd', status: 'Completed', releaseYear: 2006, schedule: 'sat' },
            { id: 7, title: 'Mob Psycho 100', pageUrl: 'MobPsycho100.html', type: 'TV Series', rating: 8.8, episodes: 37, genres: ['Action', 'Comedy', 'Supernatural', 'School', 'Shonen'], description: 'Shigeo Mob Kageyama is a seemingly ordinary middle school boy, but he is a powerful Esper with immense psychic abilities...', coverImage: 'https://m.media-amazon.com/images/M/MV5BYzU3NDM4ZjgtY2UyMi00YTczLTgyNDEtMjBiMDJlOGUxNjcxXkEyXkFqcGc@._V1_.jpg', bgImage: 'https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=1200,height=675/catalog/crunchyroll/c0e2440d3f27196ba37abaed8b824df5.jpg', status: 'Finished', releaseYear: 2024, schedule: 'wed' },
            { id: 20, title: 'Fullmetal Alchemist: Brotherhood', pageUrl: 'FullmetalAlchemistBrotherhood.html', type: 'TV Series', rating: 9.1, episodes: 64, genres: ['Action', 'Adventure', 'Drama', 'Fantasy', 'Military', 'Shonen'], description: 'After attempting a forbidden human transmutation, two young brothers, Edward and Alphonse Elric, pay a terrible price...', coverImage: 'https://images.justwatch.com/poster/8906736/s718/season-1.jpg', bgImage: 'https://www.clubghost.it/ipnotica/ipnoticaghost/blog/files/Fullmetal-Alchemist-loc_bar.jpg', status: 'Finished', releaseYear: 2009, schedule: 'sun' },
            { id: 11, title: 'Wind Breaker', pageUrl: 'Windbreaker.html', type: 'TV Series', rating: 7.5, episodes: 25, genres: ['Action', 'School', 'Drama'], description: 'The story centres on Haruka Sakura, a first-year student who enrols in Furin High School â€” a school infamous for its weak academic record and reputation for tough, delinquents-on-campus.', coverImage: 'https://m.media-amazon.com/images/M/MV5BNDA2MDRhNTEtMjU4NC00MzZjLWJjM2UtZDg4MWI5OWU3ZjEwXkEyXkFqcGc@._V1_.jpg', bgImage: 'https://cdn.oneesports.gg/cdn-data/2024/06/Anime_WindBreaker_Bofurin_Season1Finale_Keyart_2.jpg', status: 'Airing', releaseYear: 2025, schedule: 'sun' },
            { id: 5, title: 'Chainsaw Man Movie: Reze Arc', pageUrl: 'ChainsawManMovie1.html', type: 'Movie', rating: 9.1, episodes: 1, genres: ['Action', 'Supernatural', 'Gore'], description: 'Denji falls for a seemingly perfect girl named Reze, who shares a mysterious connection with him...', coverImage: 'https://imgs.search.brave.com/PehZkdT-CmwQBU-tjhsmIVgjT_TdSOuDYtcNpxTFbCw/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9wb3N0/ZXIuZ3NjLmNvbS5t/eS8yMDI1LzI1MDQw/MV9DaGFpbnNhd01h/bi1UaGVNb3ZpZVJl/emVBcmNfYmlnLmpw/Zw', bgImage: 'https://static1.cbrimages.com/wordpress/wp-content/uploads/2023/12/chainsaw-man-movie-reze-arc-featured.jpg', status: 'Upcoming Movie', releaseYear: 2025, isMovie: true },
            { id: 7, title: 'Takopi\'s Original Sin', pageUrl: 'takopioriginalsin.html', type: 'Manga Series', rating: 8.5, episodes: 2, genres: ['Drama', 'Psychological', 'Sci-Fi'], description: 'Takopi is a happy alien from the planet Happy who comes to Earth to spread joy...', coverImage: 'https://media.trakt.tv/images/shows/000/276/728/posters/medium/a20aafacb8.jpg.webp', bgImage: 'https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=1200,height=675/catalog/crunchyroll/fe04fb008e1f7efbd1ff61a73dc88de0.jpg', status: 'Finished', releaseYear: 2025, schedule: 'sat' },
            { id: 6, title: 'Jujutsu Kaisen Season 3', pageUrl: 'Jujutsu-Kaisen-Season-3.html', type: 'TV Series', rating: 9.3, episodes: 24, genres: ['Action', 'Supernatural', 'School'], description: 'The Culling Game arc begins. Yuji Itadori and his allies must participate in a deadly ritual...', coverImage: 'https://cdn.shopify.com/s/files/1/0689/6061/6685/files/20250901_jjkS3_poster.jpg?v=1756708446', bgImage: 'https://www.comingsoon.net/wp-content/uploads/sites/3/2023/12/Jujutsu-Kaisen-Culling-Game-Arc-Header.png', status: 'Airing', releaseYear: 2025, schedule: 'thu' },
            { id: 7, title: 'Frieren: Beyond Journey\'s End', pageUrl: 'Frieren.html', type: 'TV Series', rating: 9.4, episodes: 28, genres: ['Adventure', 'Fantasy', 'Slice of Life'], description: 'After defeating the Demon King, the elven mage Frieren outlives her heroic companions...', coverImage: 'https://m.media-amazon.com/images/M/MV5BZTI4ZGMxN2UtODlkYS00MTBjLWE1YzctYzc3NDViMGI0ZmJmXkEyXkFqcGc@._V1_.jpg', bgImage: 'https://images.alphacoders.com/133/1332981.jpeg', status: 'Finished', releaseYear: 2024, schedule: 'sat' },
            { id: 8, title: 'Solo Leveling', pageUrl: 'SoloLeveling.html', type: 'TV Series', rating: 8.7, episodes: 25, genres: ['Action', 'Fantasy', 'Adventure'], description: 'In a world where hunters with magical abilities fight deadly monsters, Sung Jinwoo, the weakest hunter...', coverImage: 'https://resizing.flixster.com/7Rg2Rcy1Dd781Ls8YbqPBeSckFo=/fit-in/352x330/v2/https://resizing.flixster.com/-XZAfHZM39UwaGJIFWKAE8fS0ak=/v3/t/assets/p28725972_i_v10_ac.jpg', bgImage: 'https://m.media-amazon.com/images/S/pv-target-images/89c6bce08e3e6057d82c3306ca87f5c0327039aa1248e7176bf1a228c33bd3a6.jpg', status: 'Airing', releaseYear: 2024, schedule: 'sat' },
            { id: 9, title: 'Kaiju no 8', pageUrl: 'kaijuno8.html', type: 'TV Series', rating: 8.7, episodes: 24, genres: ['Action', 'Sci-Fi', 'Monster'], description: 'In a Japan plagued by monstrous creatures known as Kaiju, Kafka Hibino works a dead-end job cleaning up the aftermath of their battles.', coverImage: 'https://preview.redd.it/new-key-visual-for-kaiju-no-8-season-2-v0-44lqbwzloa4f1.jpeg?width=1080&crop=smart&auto=webp&s=31417111b133a42be02e19f8fddc3d1d0336433e', bgImage: 'https://static0.gamerantimages.com/wordpress/wp-content/uploads/2025/06/kaiju-no-8-season-2-key-visual-cropped.jpg', status: 'Airing', releaseYear: 2024, schedule: 'sat' },
            { id: 10, title: 'Demon Slayer', pageUrl: 'demonslayer.html', type: 'TV Series', rating: 8.7, episodes: 64, genres: ['Action', 'Dark Fantasy', 'Martial Arts', 'Shonen'], description: 'Set in TaishÅ era Japan, the series follows Tanjiro Kamado, a kind-hearted boy whose family is slaughtered by a demon, and his younger sister, Nezuko, is turned into a demon. Tanjiro joins the Demon Slayer Corps, a secret organization that has fought against demons for centuries. His quest is twofold: to avenge his family by defeating the demon progenitor Muzan Kibutsuji, and to find a way to turn Nezuko human again, who uniquely retains some human emotion. He trains in the Water Breathing style and later masters the ancient Sun Breathing technique, known as Hinokami Kagura.', coverImage: 'https://demonslayer-anime.com/portal/assets/img/img_kv_1.jpg',bgImage: 'https://m.media-amazon.com/images/S/pv-target-images/97bbbb1dd00a72b5bf99be25a2c2159758a635be27d550598ca1540de246aa57.jpg', status: 'Airing', releaseYear: 2024, schedule: 'sat' },
            { id: 12, title: 'Vinland Saga', pageUrl: 'vinlandsaga.html', type: 'TV Series', rating: 8.9, episodes: 48, genres: ['Action', 'Adventure', 'Drama', 'Historical', 'Seinen'], description: 'In a world where hunters with magical abilities fight deadly monsters, Sung Jinwoo...', coverImage: 'https://m.media-amazon.com/images/M/MV5BNDA3MGNmZTEtMzFiMy00ZmViLThhNmQtMjQ4ZDc5MDEyN2U1XkEyXkFqcGc@._V1_.jpg', bgImage: 'https://miro.medium.com/v2/resize:fit:1400/1*Gkh0yNPs60m2vsb7B033hw.jpeg', status: 'Completed', releaseYear: 2024, schedule: 'mon' },
            { id: 12, title: 'One Pieace', pageUrl: 'Onepiece.html', type: 'TV Series', rating: 8.5, episodes: 1140, genres: ['Adventure', 'Fantasy Comedy', 'Action', 'Shonen'], description: 'One Piece follows the adventures of Monkey D. Luffy and his pirate crew, the Straw Hat Pirates, as he searches for the ultimate treasure known as One Piece to become the King of the Pirates...', coverImage: 'https://resizing.flixster.com/-XZAfHZM39UwaGJIFWKAE8fS0ak=/v3/t/assets/p26331782_b_v8_ab.jpg', bgImage: 'https://deadline.com/wp-content/uploads/2025/03/Egghead-part2-KV-ENG.png', status: 'Upcoming', releaseYear: 1999, schedule: 'tue' },
            { id: 13, title: 'Summertime Rendering', pageUrl: 'Summertimerendering.html', type: 'TV Series', rating: 8.5, episodes: 25, genres: ['Mystery', 'Supernatural', 'Thriller', 'Suspense'], description: 'Upon hearing of Ushios death, Shinpei returns to his hometown of Wakayama City on Hitogashima and reunites with his childhood friends family.', coverImage: 'https://www.animegeek.com/wp-content/uploads/2022/07/Summertime-Render-Part-2-Anime-Key-Visual-July-2022-724x1024.jpg', bgImage: 'https://static0.colliderimages.com/wordpress/wp-content/uploads/2022/07/Summer-Time-Rendering.jpeg?w=1200&h=675&fit=crop', status: 'Completed', releaseYear: 2022, schedule: 'None' },
          ];
        
        // --- 2. DOM Elements ---
        const searchInput = document.getElementById('searchInput');
        const searchResultsContainer = document.getElementById('searchResults');
        const carouselTrack = document.getElementById('carousel-track');
        // Added spotlightBgImgMobile
        const spotlightBgImg = document.getElementById('spotlight-bg-img'), spotlightBgImgMobile = document.getElementById('spotlight-bg-img-mobile'), spotlightTitle = document.getElementById('spotlight-title'), spotlightRating = document.getElementById('spotlight-rating'), spotlightGenres = document.getElementById('spotlight-genres'), spotlightDescription = document.getElementById('spotlight-description');
        const spotlightWatchBtn = document.getElementById('spotlight-watch-btn');
        const spotlightContentElements = document.querySelectorAll('.spotlight-content > *');
        const mobileDotsNav = document.getElementById('mobile-dots-nav');

        // --- 3. Functions ---
        let currentSpotlightIndex = 0;
        const spotlightItems = animeData.slice(0, 5);

        function updateSpotlightSection(anime, index) {
            
            // Check if the current view is mobile
            const isMobile = window.matchMedia("(max-width: 768px)").matches;
            
            // Determine which image element to update and fade out
            const imageToUpdate = isMobile ? spotlightBgImgMobile : spotlightBgImg;
            const newImageSrc = isMobile ? anime.coverImage : anime.bgImage;

            // Fade out the current image
            imageToUpdate.style.opacity = '0';
            
            // Fade out content
            spotlightContentElements.forEach(el => el.classList.remove('content-animate'));
            
            // Wait for the fade out to complete (500ms transition time is defined in CSS)
            setTimeout(() => {
                
                // Update the image source
                imageToUpdate.src = newImageSrc;
                
                // Update the rest of the content
                spotlightTitle.textContent = anime.title;
                spotlightRating.textContent = anime.rating;
                spotlightGenres.textContent = anime.genres.join(', ');
                spotlightDescription.textContent = anime.description;
                // MODIFICATION: Use the manual pageUrl from the database
                spotlightWatchBtn.href = anime.pageUrl;

                // Fade back in image and content
                imageToUpdate.style.opacity = '1'; 
                
                // Animate content back in
                spotlightContentElements.forEach(el => { el.classList.remove('content-animate'); void el.offsetWidth; el.classList.add('content-animate'); });
                
                // Update active state for carousel items and dots
                document.querySelectorAll('.carousel-item').forEach((item, idx) => {
                    item.classList.toggle('active', idx === index);
                });

                document.querySelectorAll('.mobile-dots-nav .dot').forEach((dot, idx) => {
                    dot.classList.toggle('active', idx === index);
                });

                // Crucial fix: Update the index *after* the change
                currentSpotlightIndex = index; 

            }, 100); // 500ms timeout matches the CSS transition time
            
            /* BEGIN SINGLE CHANGE FOR SLIDING CAROUSEL */
            const carouselItemWidth = 180; // Defined in CSS for .carousel-item
            const carouselGap = 16;        // Defined in CSS for .carousel-track (1.5rem â‰ˆ 16px)
            const itemFullWidth = carouselItemWidth + carouselGap;
            
            // Scroll the container to center the active item (or nearly center)
            if (carouselTrack) {
                const scrollPosition = (index * itemFullWidth) - (carouselTrack.clientWidth / 2) + (itemFullWidth / 2);
                carouselTrack.scrollTo({
                    left: scrollPosition,
                    behavior: 'smooth'
                });
            }
            /* END SINGLE CHANGE FOR SLIDING CAROUSEL */
        }

        function populateSpotlightCarousel(items) {
            carouselTrack.innerHTML = '';
            mobileDotsNav.innerHTML = '';

            items.forEach((anime, index) => {
                const desktopItem = document.createElement('div');
                desktopItem.className = 'carousel-item';
                desktopItem.innerHTML = `<img src="${anime.coverImage}" alt="${anime.title}"><div class="carousel-item-title">${anime.title}</div>`;
                // REMOVING event listener from desktopItem since it is hidden on PC
                if (!window.matchMedia("(min-width: 769px)").matches) {
                    desktopItem.addEventListener('click', () => updateSpotlightSection(anime, index));
                    carouselTrack.appendChild(desktopItem);
                }

                const dot = document.createElement('div');
                dot.className = 'dot';
                // Keeping event listener on dot for both mobile and PC views
                dot.addEventListener('click', () => updateSpotlightSection(anime, index));
                mobileDotsNav.appendChild(dot);
            });
        }
        
        function createAnimeCard(anime) {
             // MODIFICATION: Use the manual pageUrl from the database
             return `<a href="${anime.pageUrl}" class="anime-card">
                <img src="${anime.coverImage}" alt="${anime.title}" class="anime-card-img">
                <div class="play-icon-overlay"><i class="fas fa-play"></i></div>
                <div class="anime-card-content">
                    <h3 class="anime-card-title">${anime.title}</h3>
                    <p class="anime-card-meta">${anime.type} &bull; ${anime.episodes} Episodes</p>
                </div>
            </a>`;
        }

        function populateContentCarousel(container, data) {
            container.innerHTML = data.map(createAnimeCard).join('');
        }
        
        function handleSearch() {
            const query = searchInput.value.toLowerCase().trim();
            if (!query) {
                searchResultsContainer.style.display = 'none'; return;
            }
            const matched = animeData.filter(d => d.title.toLowerCase().includes(query));
            searchResultsContainer.innerHTML = matched.length 
                // MODIFICATION: Use the manual pageUrl from the database
                ? matched.map(anime => `<a href="${anime.pageUrl}" class="search-result-item"><img src="${anime.coverImage}" alt="${anime.title}"><div><div>${anime.title}</div><small style="color: var(--text-muted-color);">${anime.type}</small></div></a>`).join('') 
                : '<div class="no-result">No results found</div>';
            searchResultsContainer.style.display = 'block';
        }

        // --- 4. Initial Setup ---
        populateSpotlightCarousel(spotlightItems);
        
        const trendingItems = [...animeData].sort((a,b) => b.rating - a.rating).slice(0, 10);
        populateContentCarousel(document.getElementById('trending-carousel'), trendingItems);
        
        const latestItems = animeData.filter(a => a.status === 'Airing' || a.status === 'Finished').slice(0, 10);
        populateContentCarousel(document.getElementById('latest-carousel'), latestItems);

        const scheduleItems = animeData.filter(a => a.schedule).slice(0,6);
        populateContentCarousel(document.getElementById('schedule-carousel'), scheduleItems);

         const statusItems = animeData.filter(a => a.status === 'Completed').slice(0,6);
        populateContentCarousel(document.getElementById('status-carousel'), statusItems);
        
         const typeItems = animeData.filter(a => a.type === 'Movie').slice(0,6);
        populateContentCarousel(document.getElementById('type-carousel'), typeItems);


        if (spotlightItems.length > 0) {
            updateSpotlightSection(spotlightItems[0], 0);
        }
        
        searchInput.addEventListener('input', handleSearch);
        document.addEventListener('click', (e) => {!e.target.closest('.search-bar') && (searchResultsContainer.style.display = 'none')});

        const mainHeader = document.querySelector('.main-header');
        window.addEventListener('scroll', () => {
            mainHeader.classList.toggle('scrolled', window.scrollY > 50);
        });

        let spotlightInterval;
        const autoAdvanceSpotlight = () => {
            clearInterval(spotlightInterval);
            // Auto advance only on mobile (max-width: 768px)
            if (window.matchMedia("(max-width: 768px)").matches) {
                spotlightInterval = setInterval(() => {
                    currentSpotlightIndex = (currentSpotlightIndex + 1) % spotlightItems.length;
                    updateSpotlightSection(spotlightItems[currentSpotlightIndex], currentSpotlightIndex);
                }, 5000);
            }
        };

        autoAdvanceSpotlight();
        // Updated resize handler to ensure image update on orientation/device change
        window.addEventListener('resize', () => {
            autoAdvanceSpotlight();
            if (spotlightItems.length > 0) {
                // Force an update to switch the image source if needed
                updateSpotlightSection(spotlightItems[currentSpotlightIndex], currentSpotlightIndex); 
            }
        });
    });

    /* --- Drama Request Popup Logic (Clickable Toggle) --- */
    
    // NOTE: Updated Telegram link to the one used in index.html's popup to match functionality.
    
    function setupDramaRequestPopup() {
        
        // 1. Create the persistent button
        const toggleButton = document.createElement('a');
        toggleButton.id = 'drama-request-toggle-button';
        toggleButton.innerHTML = '<i class="fas fa-question-circle"></i> Can\'t find your Anime?'; // Changed text to "Anime"
        document.body.appendChild(toggleButton);

        // 2. Define Pop-up HTML (The content that appears on click)
        const POPUP_HTML = `
            <h3 class="popup-title-center">Request A New Anime!</h3>
            <p class="popup-message-center">If you couldn't find your favourite anime, don't worry!</p>
            <p class="popup-promise">
                DM us the anime name on Telegram, and it will be available on our site on sameday or within 2 days!
            </p>
            <a href="https://t.me/iamashish6700" target="_blank" class="btn btn-primary" style="width: 100%; display: block; background-color: #0088CC; border-color: #0088CC; font-weight: 600;">
                <i class="fab fa-telegram-plane"></i> DM Anime Name Now
            </a>
            <button class="popup-close-btn" data-action="close">&times;</button>
        `;

        const overlay = document.createElement('div');
        overlay.id = 'drama-request-overlay-center';
        
        const content = document.createElement('div');
        content.id = 'drama-request-content-center';
        content.innerHTML = POPUP_HTML;
        
        overlay.appendChild(content);
        document.body.appendChild(overlay);


        // 3. Function to dismiss the popup
        const dismissPopup = () => {
            overlay.classList.remove('active');
            // Remove focus/hover effect from button
            toggleButton.blur(); 
        };

        // 4. Function to show the popup
        const showPopup = () => {
            overlay.classList.add('active');
        };

        // 5. Attach Event Listeners
        toggleButton.addEventListener('click', showPopup);

        content.addEventListener('click', (e) => {
            // Close on click of the 'x' button or the Telegram link
            if (e.target.dataset.action === 'close' || e.target.closest('a')) {
                dismissPopup();
            }
        });
        
        overlay.addEventListener('click', (e) => {
            // Close on click of the dark overlay itself
            if (e.target === overlay) {
                dismissPopup();
            }
        });
    }

    // Initialize the new click-based pop-up system
    document.addEventListener('DOMContentLoaded', setupDramaRequestPopup);
    </script>
</body>
</html>